<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Design Upload Portal</title>
  <style>
    :root {  
      --color-base: #ebdfd7;
      --color-light: #f5f1ee;
      --color-lighter: #fbf9fa;
      --color-dark: #a89f97;
      --color-darker: #7a6e68;
      --color-shadow: rgba(168, 142, 130, 0.8);
      --color-shadow-light: rgba(168, 142, 130, 0.3);
      --color-border: #b8a99a;
      --color-bg-gradient-start: #f0ebe7;
      --color-bg-gradient-end: #d9d2ca;
      --color-text-primary: #3a2f2a;
      --color-text-secondary: #5a4f4a;
      --color-btn-delete-start: #7a5a4a;
      --color-btn-delete-end: #6a4a3a;
      --color-back-btn-bg: rgba(168, 142, 130, 0.15);
      --color-back-btn-border: #b8a99a;
      --color-back-btn-text: #5a4f4a;
      --color-modal-overlay: rgba(168, 142, 130, 0.15);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    a {
      text-decoration: none;
      color: #202D36;
      transition: color 0.3s ease;
    }

    body {
      font-size: 16px;
      line-height: 1.5;
      background-color: #ebdfd7;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      color: var(--color-text-primary);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
    }

    /* Elegant Header Styles */
    .header {
      background: linear-gradient(135deg, #3C0007 0%, #800C1F 100%);
      height: 80px;
      width: 100%;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 40px;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1000;
    }

    .logo {
      width: 160px;
      height: 60px;
      transition: transform 0.3s ease;
    }

    .logo:hover {
      transform: scale(1.05);
    }

    .search-bar {
      width: 500px;
      height: 50px;
      background-color: #F5F7FA;
      /* Very light gray-blue */
      border: 2px solid #5C7896;
      border-radius: 30px;
      display: flex;
      align-items: center;
      padding: 0 25px;
      transition: all 0.3s ease;
    }

    .search-bar:hover {
      box-shadow: 0 4px 12px rgba(92, 120, 150, 0.2);
    }

.search-bar input {
    flex: 1 !important; 
    border: none !important;
    outline: none !important;
    font-size: 16px !important;
    color: #202D36 !important; 
    background: transparent !important;
    box-shadow: none !important;
    width: 100% !important;
    margin: 0 !important;
    border-radius: 0 !important;
    padding: 14px 16px !important;
    }

    .user-cart {
      display: flex;
      flex-direction: row;
      align-items: center;
    }

    .user-profile {
      display: flex;
      align-items: center;
      width: 182px;
      height: 44px;
      background-color: #ffffff;
      border-radius: 22px;
      border: 1px solid #d9d9d9;
      padding: 0 3px;
      cursor: pointer;
    }

    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 20px;
      margin-right: 12px;
    }


    .user-name {
      font-size: 12px;
      font-weight: 600;
      color: #292d32;
      font-family: 'Inter', sans-serif;
    }

    .user-status {
      font-size: 11px;
      color: #b3b3b3;
      font-family: 'Inter', sans-serif;
    }

    .dropdown-icon {
      margin-left: 30px;
    }

    .cart-icon {
      width: 24px;
      height: 24px;
      margin-left: 20px;
      transition: transform 0.3s ease;
      color: white;
    }

    .cart-icon:hover {
      transform: scale(1.1);
    }

    /* Sophisticated Navigation */

    .nav-bar {
      background: #929CAA;
      height: 50px;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      position: fixed;
      top: 80px;
      left: 0;
      z-index: 999;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .nav-links {
      display: flex;
      gap: 30px;
    }

    .nav-link {
      font-size: 15px;
      font-weight: 500;
      color: #202D36;
      padding: 12px 15px;
      border-radius: 8px;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .nav-link:hover {
      background-color: rgba(92, 120, 150, 0.2);
    }

    .nav-link.active {
      background-color: #5C7896;
      color: white;
      font-weight: 600;
    }


    .container {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 40px;
      max-width: 1200px;
      width: 100%;
      margin-top: 10%;
    }

    /* Adjust form and preview section width to be smaller */
    .form-section {
      max-width: 350px;
      flex: 1 1 0;
    }

    .preview-section {
      max-width: 350px;
      height: 545px;
      flex: 1 1 0;
    }

    .form-part {
      flex: 1 1 0;
      height: 545px;
    }

    /* Back button style same as explore page */
    .back-button {
      position: fixed;
      top: 135px;
      right: 80px;
      background-color: #2c2c2c;
      color: #f5f5f5;
      border: 1px solid #2c2c2c;
      border-radius: 8px;
      width: 125px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 10;
    }

    .back-button img {
      width: 10px;
      height: 10px;
      margin-right: 8px;
    }

    .back-button span {
      font-size: 15px;
      font-weight: 400;
    }

    @media (max-width: 768px) {
      .container {
        grid-template-columns: 1fr;
        margin: 20px;
      }
    }

    .form-section,
    .preview-section {
      background: linear-gradient(145deg, var(--color-bg-gradient-start), var(--color-bg-gradient-end));
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 0 10px var(--color-shadow);
      color: var(--color-text-primary);
      transition: transform 0.3s ease;
    }

    .form-section:hover,
    .preview-section:hover {
      transform: translateY(-8px);
      box-shadow: 0 0 15px var(--color-shadow);
    }

    h2 {
      margin-bottom: 24px;
      color: var(--color-darker);
      font-weight: 700;
      text-align: center;
      text-shadow: 0 0 5px var(--color-shadow-light);
    }

    <!-- input,
    select,
    textarea {
      width: 100%;
      padding: 14px 16px;
      margin-top: 12px;
      border: 2px solid var(--color-border);
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      transition: all 0.3s ease;
      background-color: var(--color-lighter);
      color: var(--color-text-primary);
      box-shadow: inset 0 0 8px var(--color-shadow-light);
    } -->

    input:focus,
    select:focus,
    textarea:focus {
      outline: none;
      border-color: var(--color-dark);
      box-shadow: 0 0 8px var(--color-shadow);
      background-color: var(--color-light);
    }

    .label {
      font-weight: 700;
      margin-top: 26px;
      display: block;
      color: var(--color-darker);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .file-upload-box {
      margin-top: 14px;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 40px;
      border: 3px dashed var(--color-border);
      border-radius: 20px;
      background-size: cover;
      background-position: center;
      box-shadow: 0 0 15px var(--color-shadow-light) inset;
      transition: background 0.4s ease, transform 0.3s ease, border-color 0.3s ease;
      text-align: center;
    }

    .file-upload-box:hover {
      background-color: var(--color-light);
      transform: scale(1.05);
      border-color: var(--color-dark);
      box-shadow: 0 0 30px var(--color-shadow) inset;
    }

    .upload-icon {
      font-size: 64px;
      margin-bottom: 12px;
      text-shadow: 0 0 6px var(--color-darker);
    }

    .file-upload-box span {
      font-size: 18px;
      font-weight: 700;
      color: var(--color-darker);
      text-shadow: 0 0 5px var(--color-shadow-light);
    }

    .preview-box {
      background: linear-gradient(145deg, var(--color-bg-gradient-end), var(--color-bg-gradient-start));
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 0 10px var(--color-shadow-light);
      color: var(--color-darker);
      min-height: 420px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .preview-box h3 {
      font-size: 28px;
      margin-bottom: 16px;
      color: var(--color-darker);
      font-weight: 800;
      text-shadow: 0 0 8px var(--color-shadow-light);
    }

    .preview-texts {
      width: 100%;
      max-width: 420px;
      font-size: 18px;
      font-weight: 600;
      color: var(--color-darker);
    }

    .preview-texts p {
      margin: 8px 0;
    }

    .preview-img {
      width: 100%;
      max-width: 420px;
      height: auto;
      margin-top: 20px;
      border-radius: 16px;
      border: 2px solid var(--color-border);
      display: none;
      box-shadow: 0 0 20px var(--color-shadow-light);
      transition: all 0.4s ease;
      object-fit: contain;
      max-height: 300px;
    }

    .submit-btn {
      margin-top: 20px;
      width: 48%;
      background: var(--color-darker);
      color: var(--color-text-primary);
      border: none;
      padding: 10px 0;
      font-size: 14px;
      font-weight: 700;
      border-radius: 12px;
      cursor: pointer;
      box-shadow: 0 0 10px var(--color-shadow);
      transition: background 0.3s ease, box-shadow 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      display: inline-block;
      text-align: center;
    }

    .submit-btn:hover {
      background: var(--color-base);
      box-shadow: 0 0 15px var(--color-shadow);
    }

     /* Refined Back Button */
    .back-button {
        color: #ffffff;
        position: fixed;
        top: 140px;
        right: 100px;
        border: none;
        border-radius: 8px;
        width: 150px;
        height: 45px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 10;
        gap: 10px;
        overflow: hidden;
        /* Essential for the sliding effect */
        background: linear-gradient(135deg, #5C7896 0%, #7598B9 100%);
        box-shadow: 0 2px 8px rgba(60, 0, 7, 0.3);
        transition: all 0.3s ease;
    }

    .back-button::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #7E1824 0%, #660911 100%);
        transition: all 0.5s ease;
        z-index: -1;
    }

    .back-button:hover {
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(60, 0, 7, 0.4);
    }

    .back-button:hover::before {
        left: 0;
    }

    .back-button span {
        font-size: 16px;
        font-weight: 500;
        transition: transform 0.3s ease;
    }

    .back-button:hover span {
        transform: translateX(5px);
    }

    /* Modal and saved designs - Updated to match theme */
    #savedDesignsModal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: var(--color-modal-overlay);
      z-index: 9999;
      overflow-y: auto;
      padding: 60px 20px;
    }

    #savedGallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 24px;
    }

    .saved-card {
      background: linear-gradient(145deg, var(--color-bg-gradient-start), var(--color-bg-gradient-end));
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 0 10px var(--color-shadow);
      color: var(--color-base);
      text-align: center;
      transition: transform 0.3s ease;
    }

    .saved-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 0 15px var(--color-shadow);
    }

    .saved-card h3 {
      color: var(--color-base);
      font-weight: 700;
      margin-bottom: 10px;
    }

    .saved-card p {
      margin: 8px 0;
      font-weight: 600;
      color: var(--color-base);
    }

    .saved-card img {
      width: 100%;
      max-height: 180px;
      object-fit: contain;
      border-radius: 12px;
      border: 2px solid var(--color-base);
      box-shadow: 0 4px 12px rgba(235, 223, 215, 0.53);
      margin-bottom: 12px;
    }

    .delete-btn {
      background: linear-gradient(135deg, var(--color-btn-delete-start), var(--color-btn-delete-end));
      color: #fff;
      padding: 8px 16px;
      margin-top: 12px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 4px 12px rgba(168, 122, 111, 0.5);
      transition: all 0.3s ease;
    }

    .delete-btn:hover {
      background: linear-gradient(135deg, #b07f74, #9a6b62);
      box-shadow: 0 6px 16px rgba(168, 122, 111, 0.7);
    }

    /* Modal container styling */
    .modal-container {
      max-width: 1200px;
      margin: auto;
      background: linear-gradient(145deg, var(--color-bg-gradient-start), var(--color-bg-gradient-end));
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 0 10px var(--color-shadow);
    }

    .modal-container h2 {
      color: var(--color-base);
      text-shadow: 0 0 5px var(--color-shadow);
    }

    .modal-actions {
      text-align: center;
      margin-top: 30px;
    }

    .modal-actions .submit-btn {
      margin: 0 10px;
      display: inline-block;
      width: auto;
      padding: 12px 24px;
    }
  </style>
</head>

<body>
  <!-- Header -->
  <header class="header">
    <img src="images/img_roshani_logo_1.png" alt="Roshani Logo" class="logo">
    <div class="search-bar">
      <input type="text" placeholder="Search here...">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-search"
        viewBox="0 0 16 16">
        <path
          d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0" />
      </svg>
    </div>
    <div class="user-cart">
      <a href="dashboard.html">
        <div class="user-profile">
          <img src="images\img_shape.png" alt="User Avatar" class="user-avatar" />
          <div class="user-info">
            <span class="user-name">Chirag Jain</span>
          </div>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="dropdown-icon"
            viewBox="0 0 16 16">
            <path fill-rule="evenodd"
              d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708" />
          </svg>
        </div>
      </a>
      <a href="cart.html">
        <div class="cart-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" viewBox="0 0 16 16">
            <path
              d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l1.313 7h8.17l1.313-7zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2" />
          </svg>
        </div>
      </a>
    </div>
  </header>

  <!-- Navigation -->
  <nav class="nav-bar">
    <div class="nav-links">
      <a href="home.html" class="nav-link">Home</a>
      <a href="explore.html" class="nav-link">Explore</a>
      <a href="upload.html" class="nav-link active">Upload ▼</a>
      <a href="mydesign.html" class="nav-link">Mydesign</a>
      <a href="#" class="nav-link">Contact</a>
    </div>
  </nav>

  <!-- Back Button -->
  <div class="back-button" onclick="history.back()">
    <span>← GO BACK</span>
  </div>

  <div class="container">
    <!-- Form Section Part 1 -->
    <div class="form-section form-part">
      <h2>Upload Your Design</h2>

      <input type="file" id="designFile" accept="image/*" style="display: none;">
      <div class="file-upload-box" onclick="document.getElementById('designFile').click()">
        <div class="upload-icon">📤</div>
        <span>Upload your Design here</span>
      </div>

      <label class="label">Category</label>
      <select id="fileCategory">
        <option value="">Select Category</option>
        <option value="Logo Design">Logo Design</option>
        <option value="Poster Design">Poster Design</option>
        <option value="Banner Design">Banner Design</option>
        <option value="Web UI">Web UI</option>
      </select>
    </div>

    <!-- Form Section Part 2 -->
    <div class="form-section form-part">
      <label class="label">Design Name</label>
      <input type="text" id="fileName" placeholder="Enter design name">

      <label class="label">Description</label>
      <textarea id="description" rows="4" placeholder="Write something about your design..."></textarea>

      <label class="label">Price (in ₹)</label>
      <input type="number" id="price" placeholder="Enter price">

      <button class="submit-btn" onclick="saveDesign()" style="margin-right: 2%;">Submit Design</button>
      <button class="submit-btn" style="background: linear-gradient(135deg, #e74c3c, #c0392b); margin-top: 10px;"
        onclick="showSavedDesigns()">View Saved Designs</button>
    </div>

    <!-- Preview Section -->
    <div class="preview-section">
      <h2>Live Preview</h2>
      <div class="preview-box" id="previewBox">
        <h3 id="previewName">Design Name Here</h3>
        <div class="preview-texts">
          <p><strong>Category:</strong> <span id="previewCategory">--</span></p>
          <p><strong>Description:</strong> <span id="previewDescription">--</span></p>
          <p><strong>Price:</strong> ₹<span id="previewPrice">0</span></p>
        </div>
        <img id="previewImage" class="preview-img" src="" alt="Design Preview">
      </div>
    </div>
  </div>

  <!-- Saved Designs Modal - Updated to match lavender theme -->
  <div id="savedDesignsModal">
    <button class="back-btn" onclick="closeSavedDesigns()">← Back to Upload</button>

    <div class="modal-container">
      <h2>Saved Designs</h2>
      <div id="savedGallery"></div>
      <div class="modal-actions">
        <button class="submit-btn" style="background: linear-gradient(135deg, #e74c3c, #c0392b);"
          onclick="clearAllSaved()">Delete All</button>
        <button class="submit-btn" style="background: linear-gradient(135deg, #1abc9c, #16a085); margin-left: 20px;"
          onclick="closeSavedDesigns()">Close</button>
      </div>
    </div>
  </div>

  <script>
    // Get all input elements
    const nameInput = document.getElementById('fileName');
    const categoryInput = document.getElementById('fileCategory');
    const descriptionInput = document.getElementById('description');
    const priceInput = document.getElementById('price');
    const fileInput = document.getElementById('designFile');
    const fileUploadBox = document.querySelector('.file-upload-box');

    // Get all preview elements
    const previewName = document.getElementById('previewName');
    const previewCategory = document.getElementById('previewCategory');
    const previewDescription = document.getElementById('previewDescription');
    const previewPrice = document.getElementById('previewPrice');
    const previewImage = document.getElementById('previewImage');

    // Update preview when name changes
    nameInput.addEventListener('input', updatePreview);

    // Update preview when category changes
    categoryInput.addEventListener('change', updatePreview);

    // Update preview when description changes
    descriptionInput.addEventListener('input', updatePreview);

    // Update preview when price changes
    priceInput.addEventListener('input', updatePreview);

    // Handle file upload and update preview
    fileInput.addEventListener('change', handleFileUpload);

    // Function to update all preview elements
    function updatePreview() {
      previewName.textContent = nameInput.value.trim() || "Design Name Here";
      previewCategory.textContent = categoryInput.value || "--";
      previewDescription.textContent = descriptionInput.value.trim() || "--";
      previewPrice.textContent = priceInput.value || "0";
    }

    // Function to handle file upload and display preview
    function handleFileUpload() {
      const file = fileInput.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function (e) {
          previewImage.src = e.target.result;
          previewImage.style.display = 'block';

          // Update the upload box background with the image
          fileUploadBox.style.backgroundImage = `url(${e.target.result})`;
          fileUploadBox.innerHTML = ''; // Clear the upload icon and text
        };
        reader.readAsDataURL(file);
      } else {
        previewImage.src = "";
        previewImage.style.display = 'none';
        fileUploadBox.style.backgroundImage = '';
        fileUploadBox.innerHTML = `
          <div class="upload-icon">📤</div>
          <span>Upload your Design here</span>
        `;
      }
    }

    function saveDesign() {
      if (!nameInput.value.trim()) {
        alert("Please enter the design name.");
        nameInput.focus();
        return;
      }
      if (!categoryInput.value) {
        alert("Please select a category.");
        categoryInput.focus();
        return;
      }
      if (!previewImage.src || previewImage.style.display === 'none') {
        alert("Please upload an image for the design.");
        fileInput.focus();
        return;
      }
      const design = {
        name: nameInput.value.trim(),
        category: categoryInput.value,
        description: descriptionInput.value.trim(),
        price: priceInput.value || "0",
        image: previewImage.src
      };
      const savedDesigns = JSON.parse(localStorage.getItem("savedDesigns") || "[]");
      savedDesigns.push(design);
      localStorage.setItem("savedDesigns", JSON.stringify(savedDesigns));
      alert("Design saved successfully!");
      resetForm();
    }

    function resetForm() {
      nameInput.value = "";
      categoryInput.value = "";
      descriptionInput.value = "";
      priceInput.value = "";
      fileInput.value = "";
      previewName.textContent = "Design Name Here";
      previewCategory.textContent = "--";
      previewDescription.textContent = "--";
      previewPrice.textContent = "0";
      previewImage.src = "";
      previewImage.style.display = "none";
      fileUploadBox.style.backgroundImage = '';
      fileUploadBox.innerHTML = `
        <div class="upload-icon">📤</div>
        <span>Upload your Design here</span>
      `;
    }

    function showSavedDesigns() {
      const gallery = document.getElementById("savedGallery");
      gallery.innerHTML = "";

      const saved = JSON.parse(localStorage.getItem("savedDesigns") || "[]");
      if (saved.length === 0) {
        gallery.innerHTML = "<p style='color: #ebdfd7; text-align: center; font-weight: 600;'>No saved designs yet.</p>";
      }

      saved.forEach((design, index) => {
        const card = document.createElement("div");
        card.className = "saved-card";
        card.innerHTML = `
          <img src="${design.image}" alt="${design.name}" />
          <h3>${design.name}</h3>
          <p><strong>Category:</strong> ${design.category}</p>
          <p><strong>Description:</strong> ${design.description || '--'}</p>
          <p><strong>Price:</strong> ₹${design.price}</p>
          <button class="delete-btn" onclick="deleteDesign(${index})">Delete</button>
        `;
        gallery.appendChild(card);
      });

      document.getElementById("savedDesignsModal").style.display = "block";
      document.getElementById("savedDesignsModal").scrollTop = 0;
    }

    function closeSavedDesigns() {
      document.getElementById("savedDesignsModal").style.display = "none";
    }

    function clearAllSaved() {
      if (confirm("Are you sure you want to delete all saved designs?")) {
        localStorage.removeItem("savedDesigns");
        showSavedDesigns();
      }
    }

    function deleteDesign(index) {
      const saved = JSON.parse(localStorage.getItem("savedDesigns") || "[]");
      saved.splice(index, 1);
      localStorage.setItem("savedDesigns", JSON.stringify(saved));
      showSavedDesigns();
    }

    // Initialize the preview
    updatePreview();
  </script>

</body>

</html>