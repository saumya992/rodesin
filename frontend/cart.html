<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cart and Payment</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background-color: #ebdfd7;
    }

    a {
      text-decoration: none;
      color: black;
    }


    /* Elegant Header Styles */
    .header {
      background: linear-gradient(135deg, #3C0007 0%, #800C1F 100%);
      height: 80px;
      width: 97%;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 40px;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1000;
    }

    .logo {
      width: 160px;
      height: 60px;
      transition: transform 0.3s ease;
    }

    .logo:hover {
      transform: scale(1.05);
    }

    .search-bar {
      width: 500px;
      height: 50px;
      background-color: #F5F7FA;
      /* Very light gray-blue */
      border: 2px solid #5C7896;
      border-radius: 30px;
      display: flex;
      align-items: center;
      padding: 0 25px;
      transition: all 0.3s ease;
    }

    .search-bar:hover {
      box-shadow: 0 4px 12px rgba(92, 120, 150, 0.2);
    }

    .search-bar input {
      flex: 1;
      border: none;
      outline: none;
      font-size: 16px;
      color: #202D36;
      background: transparent;
      padding: 0 10px;
      font-family: 'Inter', sans-serif;
    }

    .user-cart {
      display: flex;
      flex-direction: row;
      align-items: center;
    }

    .user-profile {
      display: flex;
      align-items: center;
      width: 182px;
      height: 44px;
      background-color: #ffffff;
      border-radius: 22px;
      border: 1px solid #d9d9d9;
      padding: 0 3px;
      cursor: pointer;
    }

    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 20px;
      margin-right: 12px;
    }


    .user-name {
      font-size: 12px;
      font-weight: 600;
      color: #292d32;
      font-family: 'Inter', sans-serif;
    }

    .user-status {
      font-size: 11px;
      color: #b3b3b3;
      font-family: 'Inter', sans-serif;
    }

    .dropdown-icon {
      margin-left: 30px;
    }

    .cart-icon {
      width: 24px;
      height: 24px;
      margin-left: 20px;
      transition: transform 0.3s ease;
      color: white;
    }

    .cart-icon:hover {
      transform: scale(1.1);
    }

    /* Sophisticated Navigation */

    /* Sophisticated Navigation */

    .nav-bar {
      background: #929CAA;
      height: 50px;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      position: fixed;
      top: 80px;
      left: 0;
      z-index: 999;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .nav-links {
      display: flex;
      gap: 30px;
    }

    .nav-link {
      font-size: 15px;
      font-weight: 500;
      color: #202D36;
      padding: 12px 15px;
      border-radius: 8px;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .nav-link:hover {
      background-color: rgba(92, 120, 150, 0.2);
    }

    .nav-link.active {
      background-color: #5C7896;
      color: white;
      font-weight: 600;
    }


    .container {
      display: flex;
     margin-top: 3%;
      gap: 30px;
      
    }

    .left-container,
      .right-container {
        padding: 30px;
        width: 40vw;
        height: 67vh;
        display: flex;
        flex-direction: column;
       background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      border-radius: 20px;
      box-shadow: 0 25px 45px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      overflow: hidden;
      }
      
      .left-box:hover,
      .right-box:hover {
        transform: translateY(-5px);
      box-shadow: 0 30px 50px rgba(60, 0, 7, 0.4);
      }

    h2,
    h3 {
      margin-top: 0;
    }

    .subtext {
      font-size: 14px;
      color: #555;
      margin-bottom: 20px;
    }

    .cart-item {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 15px;
    }

    .cart-item img {
      width: 60px;
      height: 60px;
      object-fit: contain;
    }

    .item-info {
      flex: 1;
    }

    .price {
      font-weight: bold;
      width: 60px;
    }

    .edit-btn {
      background: none;
      border: none;
      color: red;
      cursor: pointer;
      font-size: 12px;
    }

    .promo label {
      display: block;
      margin-top: 20px;
      margin-bottom: 8px;
    }

    .input-group {
      display: flex;
    }

    .input-group input {
      flex: 1;
      padding: 8px;
      border: none;
      border-radius: 5px 0 0 5px;
      background-color: #f1f1f1;
    }

    .verify-btn {
      background-color: black;
      color: white;
      padding: 8px 12px;
      border: none;
      border-radius: 0 5px 5px 0;
      cursor: pointer;
    }

    .qr-btn {
      margin-top: 20px;
      width: 100%;
      padding: 10px;
      background-color: #1f50ff;
      color: white;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
      font-size: 16px;
      margin-top: 24px;
    }

    .summary {
      margin-top: 30px;
      line-height: 1.6;
    }

    .summary p {
      display: flex;
      justify-content: space-between;
      margin: 5px 0;
    }

    .final-total {
      font-weight: bold;
      font-size: 18px;
    }



   

   
     .back-button {
    color: #ffffff;
    top: 140px;
    right: 100px;
    border: none;
    border-radius: 8px;
    width: 150px;
    height: 25px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 10;
    gap: 10px;
    overflow: hidden; /* Essential for the sliding effect */
    background: linear-gradient(135deg, #5C7896 0%, #7598B9 100%);
    box-shadow: 0 2px 8px rgba(60, 0, 7, 0.3);
    transition: all 0.3s ease;
}

        /* Refined Back Button */
    .back-button {
      position: fixed;
        margin-top: 35%;
        margin-right: 55%;
      padding: 10px;
      width: 150px;
      border: none;
      border-radius: 5px;
      background-color: black;
      cursor: pointer;
    color: #ffffff;
    background: linear-gradient(135deg, #5C7896 0%, #7598B9 100%);
    box-shadow: 0 2px 8px rgba(60, 0, 7, 0.3);
    transition: all 0.3s ease;
}

.back-button::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #7E1824 0%, #660911 100%);
    transition: all 0.5s ease;
    z-index: -1;
}

.back-button:hover {
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(60, 0, 7, 0.4);
}

.back-button:hover::before {
    left: 0;
}

.back-button span {
    font-size: 16px;
    font-weight: 500;
    transition: transform 0.3s ease;
}

.back-button:hover span {
    transform: translateX(5px);
} 
    /* QR Overlay Styles */

    #qrOverlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.6);
      justify-content: center;
      align-items: center;
      z-index: 2000;
    }

    #qrContainer {
      background: white;
      padding: 20px 30px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      max-width: 400px;
      width: 90%;
      box-sizing: border-box;
      text-align: center;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    #closeQrBtn {
      position: absolute;
      top: 10px;
      right: 15px;
      background: transparent;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #555;
    }

    #qrCode {
      margin: 0 auto
    }
    .wrapper {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height:77.9vh;
      padding: 100px 20px 40px;
      background: linear-gradient(-45deg, #5C7896, #7598B9, #3C0007, #800C1F);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
    }
     @keyframes gradientBG {
      0% {
        background-position: 0% 50%;
      }

      50% {
        background-position: 100% 50%;
      }

      100% {
        background-position: 0% 50%;
      }
    }
  </style>
</head>

<body>
  <div class="wrapper">
  <!-- Header -->
  <header class="header">
    <img src="images/img_roshani_logo_1.png" alt="Roshani Logo" class="logo">
    <div class="search-bar">
      <input type="text" placeholder="Search here...">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-search"
        viewBox="0 0 16 16">
        <path
          d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0" />
      </svg>
    </div>
    <div class="user-cart">
      <a href="dashboard.html">
        <div class="user-profile">
          <img src="images\img_shape.png" alt="User Avatar" class="user-avatar" />
          <div class="user-info">
            <span class="user-name">Chirag Jain</span>
          </div>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="dropdown-icon"
            viewBox="0 0 16 16">
            <path fill-rule="evenodd"
              d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708" />
          </svg>
        </div>
      </a>
      <a href="cart.html">
        <div class="cart-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" viewBox="0 0 16 16">
            <path
              d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l1.313 7h8.17l1.313-7zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2" />
          </svg>
        </div>
      </a>
    </div>
  </header>

  <!-- Navigation -->
  <nav class="nav-bar">
    <div class="nav-links">
      <a href="home.html" class="nav-link">Home</a>
      <a href="explore.html" class="nav-link active">Explore ▼</a>
      <a href="upload.html" class="nav-link">Upload</a>
      <a href="mydesign.html" class="nav-link ">Mydesign</a>
      <a href="#" class="nav-link">Contact</a>
    </div>
  </nav>

  <div class="container">
    <!-- Left Container: Cart -->
    <div class="left-container">
      <h2>Cart</h2>
      <p class="subtext">check your cart items before proceeding to payment</p>

      <div class="cart-item">
        <input type="checkbox" checked />
        <img src="images/design1.jpg" alt="Car design" />
        <div class="item-info">
          <p>Mechanical design</p>
          <p>Description ▼</p>
        </div>
        <div class="price">₹300/-</div>
        <button class="edit-btn">✖ Edit Order</button>
      </div>

      <div class="cart-item">
        <input type="checkbox" checked />
        <img src="images/Mechanical-Drawings.png" alt="Car design" />
        <div class="item-info">
          <p>Mechanical design</p>
          <p>Description ▼</p>
        </div>
        <div class="price">₹300/-</div>
        <button class="edit-btn">✖ Edit Order</button>
      </div>

      <div class="cart-item">
        <input type="checkbox" checked />
        <img src="images/design1.jpg" alt="Blueprint" />
        <div class="item-info">
          <p>Mechanical design</p>
          <p>Description ▼</p>
        </div>
        <div class="price">₹300/-</div>
        <button class="edit-btn">✖ Edit Order</button>
      </div>

    </div>

    <!-- Right Container: Payment -->
    <div class="right-container">
      <div class="promo">
        <h2>Promocode</h2>
        <div class="input-group">
          <input type="text" value="HOLA123" />
          <button class="verify-btn">★ Verify</button>
        </div>
      </div>

      <div class="summary">
        <h3>Summary(3 Items)</h3>
        <p>Total <span>₹900</span></p>
        <p>Discount <span>₹300</span></p>
        <p class="final-total">Total <span>₹600</span></p>
      </div>

      <button class="qr-btn" id="openQrBtn">Generate QR Scanner</button>
       <!-- Back Button -->
  <div class="back-button" onclick="history.back()">
    <span>← GO BACK</span>
  </div>
    </div>
  </div>

  <!-- QR Code Overlay -->
  <div id="qrOverlay"
    style="display:none; position: fixed; top:0; left:0; width:100vw; height:100vh; background: rgba(0,0,0,0.6); justify-content: center; align-items: center; z-index: 2000;">
    <div id="qrContainer"
      style="background: white; padding: 20px 30px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.3); max-width: 400px; width: 90%; box-sizing: border-box; text-align: center; position: relative; display: flex; flex-direction: column; align-items: center;">
      <button id="closeQrBtn" title="Close QR Code"
        style="position: absolute; top: 10px; right: 15px; background: transparent; border: none; font-size: 24px; cursor: pointer; color: #555;">&times;</button>
      <h2>Google Pay via UPI</h2>
      <div id="qrCode" style="margin: 0 auto;"></div>
      <p>Scan this QR to pay</p>
    </div>
  </div>
  </div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const checkboxes = document.querySelectorAll(".cart-item input[type='checkbox']");
    const summaryItems = document.querySelector(".summary h3");
    const totalPrice = document.querySelector(".summary p:nth-of-type(1) span");
    const discount = document.querySelector(".summary p:nth-of-type(2) span");
    const finalTotal = document.querySelector(".final-total span");
    const openQrBtn = document.getElementById("openQrBtn");
    const qrOverlay = document.getElementById("qrOverlay");
    const closeQrBtn = document.getElementById("closeQrBtn");
    const qrCodeDiv = document.getElementById("qrCode");
    let qrCodeInstance = null;

    function updateSummary() {
      let itemCount = 0;
      let total = 0;

      checkboxes.forEach((checkbox) => {
        if (checkbox.checked) {
          itemCount++;
          total += 300; // Price per item
        }
      });

      const discountAmount = itemCount * 100;
      const finalAmount = total - discountAmount;

      summaryItems.textContent = `Summary(${itemCount} Item${itemCount !== 1 ? 's' : ''})`;
      totalPrice.textContent = `₹${total}`;
      discount.textContent = `₹${discountAmount}`;
      finalTotal.textContent = `₹${finalAmount}`;
    }

    function getTotalAmount() {
      if (!finalTotal) return null;
      const amountText = finalTotal.textContent.trim();
      const amount = amountText.replace(/[^\d.]/g, '');
      return amount;
    }

    function generateQrCode(amount) {
      const upiId = 'ohmp1015@okhdfcbank';
      const name = 'Your Business Name';
      const upiUrl = `upi://pay?pa=${upiId}&pn=${encodeURIComponent(name)}&am=${amount}&cu=INR`;
      qrCodeDiv.innerHTML = '';
      qrCodeInstance = new QRCode(qrCodeDiv, {
        text: upiUrl,
        width: 200,
        height: 200,
      });
    }

    openQrBtn.addEventListener("click", () => {
      const amount = getTotalAmount();
      if (!amount) {
        alert('Total amount not found.');
        return;
      }
      generateQrCode(amount);
      qrOverlay.style.display = 'flex';
    });

    closeQrBtn.addEventListener("click", () => {
      qrOverlay.style.display = 'none';
      qrCodeDiv.innerHTML = '';
    });

    checkboxes.forEach((checkbox) => {
      checkbox.addEventListener("change", updateSummary);
    });

    updateSummary();
  });
</script>


</html>